<!DOCTYPE html>
<html>
<head>
<meta name="viewport"
	content="width = device-width, initial-scale = 1.0">
<!-- <meta charset="ISO-8859-1"> -->
<title>Insert title here</title>


<link th:href="@{/css/bootstrap.css}" rel="stylesheet" />
<link th:href="@{/css/bootstrap-flex.css}" rel="stylesheet" />
<link th:href="@{/css/bootstrap-reboot.css}" rel="stylesheet" />
<link th:href="@{/css/bootstrap-grid.css}" rel="stylesheet" />
<!-- Latest compiled and minified CSS -->



<script th:src="@{/js/jquery.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/words.js}"></script>
<script th:src="@{/js/comparison.js}"></script>
<script th:src="@{/js/parsley.js}"></script>

<style type="text/css">
input.parsley-success, select.parsley-success, textarea.parsley-success
	{
	color: #468847;
	background-color: #DFF0D8;
	border: 1px solid #D6E9C6;
}

input.parsley-error, select.parsley-error, textarea.parsley-error {
	color: #B94A48;
	background-color: #F2DEDE;
	border: 1px solid #EED3D7;
}

.parsley-errors-list {
	margin: 2px 0 3px;
	padding: 0;
	list-style-type: none;
	font-size: 0.8em;
	line-height: 0.9em;
	opacity: 0;
	transition: all .3s ease-in;
	-o-transition: all .3s ease-in;
	-moz-transition: all .3s ease-in;
	-webkit-transition: all .3s ease-in;
}

.parsley-errors-list.filled {
	opacity: 1;
}

td, th {
	font-size: .8em;
	text-align: center;
}

body {
	background-color: #f2f2f2;
}

tbody {
	background-color: #fff;
}

img {
	background-color: white;
	transition:
}

#nav-elements>li {
	margin-top: 10px
}

li>a {
	font-size: medium;
	font-variant: small-caps;
	font-stretch: wider;
}

#site-form {
	border-color: black;
	border: 1px;
}

input {
	text-align: center;
	width: 100%;
	max-width: 100%
}

#map {
	background-color: black;
	height: 400px;
	border: solid;
}
</style>

</head>
<body>
	<div class="container-fluid">

		<nav th:replace="fragments/header :: header"></nav>

		<div class="page-header">
			<h2>Cell Data Entry Form</h2>
		</div>
		<div class="row">
			<div id="site-form" class="col-md-5">
				<h3>Site Info:</h3>
				<form class="form" th:object="${site}" data-parsley-validate>
					<div class="input-group input-group-md">
						<span class="input-group-addon" style="width: 100px;">Site
							Name</span> <input type="text" th:field="*{siteName}"
							class="form-control" disabled>
					</div>
					<div class="input-group input-group-md">
						<span class="input-group-addon" style="width: 100px;"> Site
							ID </span> <input type="text" class="form-control" th:field="*{siteId}"
							readonly>
					</div>
					<div class="input-group input-group-md">
						<span class="input-group-addon" style="width: 100px;">
							Longitude </span> <input type="text" class="form-control"
							th:field="*{longitude}" readonly>
					</div>
					<div class="input-group input-group-md">
						<span class="input-group-addon" style="width: 100px;">
							Latitude </span> <input type="text" class="form-control"
							th:field="*{latitude}" readonly>
					</div>
					<br>
					<div class="btn-group" role="group" aria-label="...">
						<a class="btn btn-primary"
							th:href="@{/site/edit/{siteId}(siteId=${site.getSiteId()})}">Edit</a>
						<button type="reset" class="btn btn-default">Reset</button>
					</div>

				</form>
			</div>

			<div id="map" class="col-md-6"></div>
		</div>
		<br> <br>

		<div class="container-fluid">
			<h3>Cells</h3>
			<form data-parsley-validate method="POST"
				th:action="@{/cell/submitQuery}" th:object="${wrapper}"
				style="width: 100%">
				<div class="table-responsive">
					<table id="data-table"
						class="table table-striped table-hover table-condensed"
						style="width: 100%;">
						<thead class="">
							<tr>
								<th style="width: 5em" align="center">Cell Name</th>
								<th style="width: 5em" align="center">LAC</th>
								<th style="width: 5em" align="center">CID</th>
								<th style="width: 5em" align="center">Status</th>
								<th style="width: 5em" align="center">Azimuth</th>
								<th style="width: 5em" align="center">Fixed E Tilt</th>
								<th style="width: 5em" align="center">E Tilt</th>
								<th style="width: 5em" align="center">M Tilt</th>
								<th style="width: 7em" align="center">Ant. Height on Pole</th>
								<th style="width: 5em" align="center">Ant. Height from
									Ground</th>
								<th style="width: 5em" align="center">Feeder Length</th>
								<th style="width: 5em" align="center">Feeder Type</th>
								<th style="width: 5em" align="center">Ant. Model</th>
								<th style="width: 5em" align="center">Comment</th>
								<th style="width: 5em; text-align: left" align="left">upload
									pictures</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="cell, stat : *{cellList}">
								<td"><input size="22" type="text"
									th:field="*{cellList[__${stat.index}__].cellName}" readonly
									disabled><input type="hidden"
									th:field="*{cellList[__${stat.index}__].cellName}"></td>
								<!-- 					<td> -->
								<!-- 						<input type="text" readonly disabled> -->
								<!-- 					</td> -->
								<td><input size="3"
									th:field="*{cellList[__${stat.index}__].lac}" type="text"
									readonly disabled><input type="hidden"
									th:field="*{cellList[__${stat.index}__].lac}"></td>
								<td><input size="1"
									th:field="*{cellList[__${stat.index}__].cell_id}" type="text"
									readonly disabled><input type="hidden"
									th:field="*{cellList[__${stat.index}__].cell_id}"></td>
								<td><input size="4" type="text"
									th:field="*{cellList[__${stat.index}__].activated}" readonly
									disabled placeholder="Activated"><input type="hidden"
									th:field="*{cellList[__${stat.index}__].activated}"></td>

								<!-- 					USER INPUTS ##################-->

								<td>
									<div>
										<input style="width: 7em" id="azimuth"
											th:field="*{cellList[__${stat.index}__].azimuth}" required
											type="number" data-parsley-range="[0, 360]"
											data-parsely-multiple-of="5">
									</div>

								</td>
								<td>
									<div>
										<input id="fixed-e-tilt"
											th:field="*{cellList[__${stat.index}__].fixed_e_tilt}"
											type="checkbox">
									</div>
								</td>
								<td>
									<div>
										<input style="width: 7em" id="e-tilt"
											th:field="*{cellList[__${stat.index}__].e_tilt}"
											type="number" data-parsley-range="[0, 12]">
									</div>
								</td>
								<td>
									<div>
										<input style="width: 7em" id="m-tilt"
											th:field="*{cellList[__${stat.index}__].m_tilt}"
											type="number" data-parsley-range="[-10, 20]">
									</div>
								</td>
								<td>
									<div>
										<input style="width: 7em" id="ant-h-on-pole"
											th:field="*{cellList[__${stat.index}__].antenna_height}"
											type="number" data-parsley-range="[0, 100]">
									</div>
								</td>
								<td>
									<div>
										<input style="width: 7em" id="ant-h-from-grd"
											th:field="*{cellList[__${stat.index}__].antenna_height}"
											type="number" data-parsley-range="[0, 100]">
									</div>
								</td>
								<td>
									<div>
										<input style="width: 7em" id="feeder-length"
											th:field="*{cellList[__${stat.index}__].feeder_length}"
											type="number" data-parsley-range="[0, 100]">
									</div>
								</td>
								<td>
									<div>
										<input style="width: 7em"
											th:field="*{cellList[__${stat.index}__].feeder_type}"
											type="text" id="feeder-type" pattern="\d+\/\d+"
											data-parsley-pattern-message="should be in the form '1/2'">
									</div>

								</td>
								<td>
									<div>
										<select style="height: 21px"
											th:field="*{cellList[__${stat.index}__].antenna_model}">

											<option value="BTS3900 WCDMA">BTS3900 WCDMA</option>
											<option value="DBS3800">DBS3800</option>
										</select>
									</div>
								</td>
								<td>
									<div>
										<textarea class="expandable"
											th:field="*{cellList[__${stat.index}__].comments}" rows="1"
											cols="20">
										</textarea>
									</div>

								</td>
								<td>
									<div>
										<input type="file" accept="image/*">
									</div>
								</td>

								<input type="hidden"
									th:field="*{cellList[__${stat.index}__].siteId}">
							</tr>
						</tbody>
					</table>
				</div>
				<br>
				<div class="btn-group" role="group" aria-label="...">
					<button type="submit" class="btn btn-primary">Submit</button>
					<button type="reset" class="btn btn-default">Reset</button>
				</div>
			</form>
		</div>
	</div>
	<script>
	
	var longitude = $('lng').val();
	var latitude = $('lat').val();
      function initMap() {
        var uluru = {lat:  $('lng').val(), lng:  $('lat').val()};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          center: uluru
        });
        var marker = new google.maps.Marker({
          position: uluru,
          map: map
        });
      }
    </script>
	<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDp8UiMRLM06oP0poPz4aoqCgmB0sNuHlk&callback=initMap">
    </script>

	<script type="text/javascript">

window.Parsley
  .addValidator('multipleOf', {
    requirementType: 'integer',
    validateNumber: function(value, requirement) {
      return 0 === value % requirement;
    },
    messages: {
      en: 'This value should be a multiple of %s',
      fr: 'Cette valeur doit être un multiple de %s'
    }
  });
  .on('form:submit', function() {
    return false; // Don't submit form for this demo
  });
  

</script>

</body>

</html>